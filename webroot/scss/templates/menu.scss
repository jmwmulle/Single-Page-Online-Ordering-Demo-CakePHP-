html, nav, body, main, footer {
  overflow : auto;
}

body {
  background-repeat : no-repeat;
  background-size   : cover;
  .menu {
    background-image : url("../img/menu_bg.xlg.bright.jpg");
    overflow         : auto;
  }
}

* { transition : background-color $global-transition-time ease-in-out,
background-image $global-transition-time ease-in-out,
color $global-transition-time ease-in-out,
opacity $global-transition-time ease-in-out; }

main#menu {
  min-height  : 100%;
  width       : 100%;
  padding-top : $menu-top-padding;
  overflow    : auto;
}

// in use; content area

/**************************************************************

                        USER ACTIVITY PANEL

***************************************************************/
ul#user-activity-panel {
  position       : relative;
  float          : left;
  width          : $user-activity-panel-width;
  vertical-align : top;
  margin         : $user-activity-margin;

  li {
    //transition       : background-color $global-transition-time, background-image $global-transition-time;
    width            : $user-activity-panel-width;
    height           : $user-activity-panel-height;
    background-color : $black-a25;
    border           : 1px solid $black;
    border-top       : none;
    &:hover { background-color : $white-a16; }
    &:first-of-type {
      transition       : none;
      background-color : $dark-grey;
      border-top       : 1px solid $dark-grey;
    }
    &.active {
      background-color : $white-a75;
      a { color : $dark-grey; }
    }
  }

}

/**************************************************************

                        ORBCAT MENU

***************************************************************/
ul#orbcat-menu {
  width  : $orbcat-menu-width;
  height : $orbcat-menu-height;
  margin : $orbcat-margin;
  @include orbcat-menu-gradient;
}

li.orbcat {
  height              : $orbcat-menu-item-height;
  cursor              : pointer;
  background-repeat   : no-repeat;
  background-position : center rem-calc(5px);
  background-size     : $orbcat-menu-icon-size;
  &.original-pizzas { background-image : url("../img/orbcat_icons/original-pizzas.png"); }
  &.super-pizzas { background-image : url("../img/orbcat_icons/super-pizzas.png"); }
  &.specialty-pizzas { background-image : url("../img/orbcat_icons/specialty-pizzas.png"); }
  &.panzarottis { background-image : url("../img/orbcat_icons/panzarottis.png"); }
  &.assorted-fingers { background-image : url("../img/orbcat_icons/assorted-fingers.png"); }
  &.poutines { background-image : url("../img/orbcat_icons/poutines.png"); }
  &.donairs { background-image : url("../img/orbcat_icons/donairs.png"); }
  &.chicken-and-chips { background-image : url("../img/orbcat_icons/chicken-and-chips.png"); }
  &.fish-and-chips { background-image : url("../img/orbcat_icons/fish-and-chips.png"); }
  &.pasta { background-image : url("../img/orbcat_icons/pasta.png"); }
  &.burgers { background-image : url("../img/orbcat_icons/burgers.png"); }
  &.sandwiches { background-image : url("../img/orbcat_icons/sandwiches.png"); }
  &.pita-wraps { background-image : url("../img/orbcat_icons/pita-wraps.png"); }
  &.subs { background-image : url("../img/orbcat_icons/subs.png"); }
  &.xtreme-subs { background-image : url("../img/orbcat_icons/xtreme-subs.png"); }
  &.beverages { background-image : url("../img/orbcat_icons/beverages.png"); }
  &.salads { background-image : url("../img/orbcat_icons/salads.png"); }
  &.desserts { background-image : url("../img/orbcat_icons/desserts.png"); }
  a {
    height     : $orbcat-menu-anchor-height;
    margin-top : $orbcat-menu-margin-top;
  }
  &:hover, &.active {
    &.original-pizzas { background-image : url("../img/orbcat_icons/original-pizzas.hover.png"); }
    &.super-pizzas { background-image : url("../img/orbcat_icons/super-pizzas.hover.png"); }
    &.specialty-pizzas { background-image : url("../img/orbcat_icons/specialty-pizzas.hover.png"); }
    &.panzarottis { background-image : url("../img/orbcat_icons/panzarottis.hover.png"); }
    &.assorted-fingers { background-image : url("../img/orbcat_icons/assorted-fingers.hover.png"); }
    &.poutines { background-image : url("../img/orbcat_icons/poutines.hover.png"); }
    &.donairs { background-image : url("../img/orbcat_icons/donairs.hover.png"); }
    &.chicken-and-chips { background-image : url("../img/orbcat_icons/chicken-and-chips.hover.png"); }
    &.fish-and-chips { background-image : url("../img/orbcat_icons/fish-and-chips.hover.png"); }
    &.pasta { background-image : url("../img/orbcat_icons/pasta.hover.png"); }
    &.burgers { background-image : url("../img/orbcat_icons/burgers.hover.png"); }
    &.sandwiches { background-image : url("../img/orbcat_icons/sandwiches.hover.png"); }
    &.pita-wraps { background-image : url("../img/orbcat_icons/pita-wraps.hover.png"); }
    &.subs { background-image : url("../img/orbcat_icons/subs.hover.png"); }
    &.xtreme-subs { background-image : url("../img/orbcat_icons/xtreme-subs.hover.png"); }
    &.beverages { background-image : url("../img/orbcat_icons/beverages.hover.png"); }
    &.salads { background-image : url("../img/orbcat_icons/salads.hover.png"); }
    &.desserts { background-image : url("../img/orbcat_icons/desserts.hover.png"); }
  }
}

#orbcat-menu-title {
  left              : $base-padding;
  -webkit-transform : $orbcat-menu-title-y-adjust;
  -moz-transform    : $orbcat-menu-title-y-adjust;
  -o-transform      : $orbcat-menu-title-y-adjust;
  transform         : $orbcat-menu-title-y-adjust;
  height            : $orbcat-menu-title-height;
}

/**************************************************************

                       ORB LIST / ORB CARD STAGE / ORB CARD

***************************************************************/
#orb-card-wrapper {
  height : $orb-card-wrapper-height;
  width  : $orb-card-wrapper-width; // active orbs floats right (ie. this - orbcard stage = visible space for active orbs)
  margin : $orb-card-wrapper-margin;
}

#orb-card-container {
  left                       : -1 * $float-pane-border-width;
  top                        : -0.9 * $float-pane-border-width;
  width                      : $orb-card-container-width;
  border                     : $orb-card-stage-border;
  border-top-right-radius    : $global-rounded;
  border-bottom-right-radius : $global-rounded;
  height                     : $orb-card-stage-height;
  @include orb-card-gradient;
  padding                    : $orb-card-margin;
}

// FLOAT LABELS
.float-label {
  visibility               : hidden;
  width                    : $float-label-width;
  height                   : $float-label-height;
  -webkit-transform-origin : 100% 0;
  -moz-transform-origin    : 100% 0;
  -ms-transform-origin     : 100% 0;
  -o-transform-origin      : 100% 0;
  transform-origin         : 100% 0;
  -webkit-transform        : $float-label-transform;
  -moz-transform           : $float-label-transform;
  -o-transform             : $float-label-transform;
  transform                : $float-label-transform;
  text-shadow              : 0 0 rem-calc(6px) $black-a33;
  transition               : visibility 150ms, margin-left 150ms;
  &.exposed {
    visibility  : visible;
    margin-left : -1 * $float-label-height;
  }
}
#orb-card-stage {
  height: $orb-card-stage-height;
  width: $orb-card-stage-width;
}

div#orb-card {
  height : $orb-card-height;
  width  : $orb-card-width;
  // todo: consider putting the shadow back in; then move this BG color up to the orb-card, not the section
  section { background-color : $white; }

  .triangle {
    position     : absolute;
    bottom       : $triangle-extrude-position;
    left         : $triangle-center-position;
    width        : 0;
    height       : 0;
    border-left  : $triangle-border-width solid transparent;
    border-right : $triangle-border-width solid transparent;
    margin-left  : auto;
    margin-left  : right;
    &.tr-right {
      right             : $triangle-extrude-position * 1.333333; // on account of the rotation
      top               : $triangle-center-position * 1.333333;
      -webkit-transform : rotate(-90deg);
      -moz-transform    : rotate(-90deg);
      -o-transform      : rotate(-90deg);
      transform         : rotate(-90deg);
    }
  }

  .orb-card-row {
    height        : $orb-card-row-height;
    margin-bottom : $float-pane-margin;
  }

  ul.orb-card {
    div.orb-card-button {
      position            : relative; // remove after fixing triangles
      vertical-align      : top;
      width               : $orb-card-button-width;
      height              : $orb-card-button-height;
      background-repeat   : no-repeat;
      background-position : center;
      cursor              : pointer;

      &#favorite {
        background-color : $xtreme-yellow;
        background-image : url('../img/orb_card.icon.fav.png');
        .triangle { border-top : $triangle-border-width solid $xtreme-yellow; }
      }
      &#order {
        background-color : $xtreme-red;
        background-image : url('../img/orb_card.icon.cart.png');
        .triangle { border-top : $triangle-border-width solid $xtreme-red; }
      }
      &#like {
        background-color : $xtreme-blue;
        background-image : url('../img/orb_card.icon.like.png');
        .triangle { border-top : $triangle-border-width solid $xtreme-blue; }
      }
      transition          : background-color $global-transition-time;
      .triangle { transition : border-top-color $global-transition-time; }
      &#favorite:hover, &#order:hover, &#like:hover {
        background-color : $light-grey;
        .triangle { border-top-color : $light-grey; }
      }
    }
  }
}

div.orb-card-content {
  width       : $orb-card-content-width;
  margin-left : $float-pane-margin;
  position    : relative; // only necessary for floating orb title; remove if you fix that
  height      : $orb-card-row-height;

  &#description {
    background-color : $light-grey;
    padding          : $medium-padding;
  }
  &#price-matrix {
    ul {
      margin-top : -6px;
      height     : $price-matrix-max-height;
      overflow-y : auto;
      @include blue_scroll;
    }
    li:hover { background-color : $very-light-grey; }

    h5 { height : $price-matrix-header-height; }
    h5, li div {
      width   : 50%;
      padding : 0;
      margin  : 0;
      display : inline-block;
      padding : $price-matrix-header-padding;
    }
    h5:last-of-type { padding-right : $orb-card-price-table-padding-right; }
    &#orb-card-options { background-color : $text-grey; }
  }
}

.orb-card-stage-menu-header {
  height : $orb-card-stage-menu-item-height;
  width  : $orb-card-stage-menu-width;
  h2, ul {
  padding-left : $orb-card-stage-menu-padding-left;
    background-color : $xtreme-red;
    margin           : 0;
    border-bottom:6px solid $white;
  }
}

.orb-card-stage-menu {
  overflow-y : scroll;
  overflow-x : hidden;
  height     : $orb-card-stage-menu-height;
  width:$orb-card-stage-menu-width;
  @include grey_scroll;
  .menu-shadow { box-shadow : inset 15px -5px 8px $black-a33; }
  li {
    padding-left : $orb-card-stage-menu-padding-left;
    height       : $orb-card-stage-menu-item-height;
    cursor       : pointer;
  }
}

li.topping {
  padding-left:0;
  padding-right : $topping-right-padding;
  li {
    box-shadow        : none;
    background-color  : transparent;
    margin            : 0;
    width             : $topping-icon-button-width;
    height            : $orb-card-stage-menu-item-height;
    float             : right;
    padding           : $topping-icon-full-padding;
    background-size   : auto;
    background-repeat : no-repeat;
    &:hover, &.active { background-color : transparent; }
    &.topping-coverage {
      color      : $white;
      opacity    : 0.33;
    }
    &:last-of-type {
      width        : $topping-text-width;
      padding-left : $orb-card-stage-menu-padding-left;
    }
  }
  &.active {
    li.topping-coverage {
      opacity : 1;
      &.active, &:hover { color : $black; }
    }
  }
}
#toppings-filter {
  width            : $orb-card-stage-menu-width;
  height           : $orb-card-stage-menu-item-height;
  padding          : $tight-padding;
  padding-left     : $topping-filter-padding-left;
  float            : right;
  background-color : $xtreme-red;
  li {
    background-color : transparent;
    width            : $topping-filter-button-width;
    height           : $topping-filter-button-height;
  }
}

.orb-size-panel li {
    padding-bottom : 0;
    padding-top: 0;
    h3 { height: 1.333333 * $h3-font-size;}
    &:first-of-type { padding-left : 0; }
    &:last-of-type { padding-right : 0; }
    &.active h3 { background-color: $xtreme-yellow}
}

#order-details {
  & > div { vertical-align : top; }
  #orb-order-form { width : $orb-configure-form-width; }
  #tiny-toppings-list {
    padding  : $tight-padding;
    width    : $tiny-topping-list-width;
    height   : rem-calc(65px);
    overflow : hidden;
    ul { margin : 0; }
    li {
      float            : left;
      display          : inline-block;
      padding          : 0 $tight-padding;
      margin           : 1px;
      height           : rem-calc(16px);
      background-color : $light-grey;
    }
  }
}

.orb-opt-configure-header {
  background-color : $xtreme-red;
  padding          : $tight-padding + 0.25 * $h3-font-size  0 $tight-padding $base-padding;
  line-height      : $h3-font-size;
}

#OrderOrbPreparationInstructions-wrapper { width : rem-calc(175px); }

#OrderOrbQuantity-wrapper { width : rem-calc(60px); }

input#orderOrbQuantity { width : 3rem; }

#order-modal {
  height      : $order-modal-height;
  width       : $orb-card-wrapper-inner-width + rem-calc(2px);
  top         : $order-modal-top;
  overflow-x  : hidden;
  z-index     : 8999;
  margin-left : rem-calc(-2px);

  #order-modal-content {
    margin-top       : $order-modal-content-shadow-size;
    height           : $order-modal-content-height;
    width            : $orb-card-wrapper-width;
    background-color : $white-a90;
    box-shadow       : 0 0 $base-padding $black-a33;
    padding          : $tight-padding;
    border-top       : 1px solid $text-grey;
    border-bottom    : 1px solid $text-grey;
    li { padding : 0; }
  }
}